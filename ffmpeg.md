####　ffmpeg学习
#### 纲要
    ffmpeg [gloabl options] {[input_file_options] -i input_url} {[output_file_options] output_url}
#### 描述
    ffmpeg 是一款非常快捷的视频音频转换器，也可以从播放的音视频资源抓取．
    ffmpeg,可以读取任意数量的输入文件（常规媒体文件，管道流，网络流，收集设备），通过　-i选项指定.并且写到任意数量的
    输出文件，由output_url指定．原则上来讲，每一个input_url或者output_url可以包含任意数量的不同类型的流．例如video
    ,audio,subtitle,attachment,data.允许的数量和流的类型由容器格式决定．那个输入的流进入到那个输出，要么自动完成，
    要么通过-map 选项设置．
    
    不要混淆输入和输出文件，先指定输入文件，在指定所有的输出文件．不要混淆属于不同文件的选项，所有的选项只针对紧挨着的输入
    或者输出文件．其他文件选项是被重置的．
    
    使用用例
    ffmepg -i input.avi -b:v 64k -bufsize 64k output.avi
    
    ffmepg -i inputavi -r 24 output.avi //每秒２４帧
    
    ffmeng -r 1 -i input.m2v -r 24 output.avi
#### 详细描述
    ffmepg转码的过程具体如下：
    ffmepg调用libavformat库（包含demuxers)读取input_fles,拿到压缩后的数据（packet).当读取多个input_file的时候，
    在激活的输入流中，ffmepg试图通过记录最早的时间戳来保持输入多个文件的同步．压缩后的数据（packet)交给解码器，解码器产
    出原始的数据Frames（raw video/PCM audio),这些原始数据frames,可以被过滤器处理，处理之后可以传递给编码器，生成
    压缩后的数据packet,编码后的数据交给muxers,输出到output_file.
#### filering(过滤)
    在编码之前，通过libavfilter库的filters的使用，ffmpeg可以处理原始的音频和视频数据（Frames)．若干个链式的filters
    组成一个过滤图．ffmpeg区分两种顾虑图，复杂的和简单的．简单的是有明确的输入输出，并且类型一致．简单的过滤图以每个流的
    -filter选项的形式配置．-vf表示是视频过滤，-af表示是音频过滤．值得注意的是，一些过滤只是改变流的属性，而非内容．例如
    fps 过滤器只是改变帧的数量．setpts过滤器只是设置时间戳．
    
    复杂的过滤图．使用-filter_complex 选项来配置复杂的过滤．-lavfi 等同-filter_complex.复杂过滤选项是全局的，不能
    适用单个流或者文件．复杂过滤的例子是overlay（覆盖）过滤选项,两个视频输入和一个视频输出．一个视频会覆盖在另一个视频上
    ．音频部分是amix过滤选项．
#### stream copy(流的复制)
    Stream复制通过-codec这个选项配置为copy, 这样ffmepg会忽略解码和编码的步骤，只是把数据读取出来，再输出到
    out_put_file.该模式下不能使用filters,因为filters只针对原始数据有效．
#### stream selection(流的选择)
    ffmpeg提供了 -map选项,以便人为控制在每个输出文件内的流的选择.用户可以省略-map选项,这种情况下,ffmpeg自动进行流的
    选择.-vn/ -an/-sn/-dn/用于分别表示忽略视频流,音频流,字幕流,数据流.但不能忽略复杂过滤图中的输出流.
    
    流自动选择,对于一个输出文件没有任何-map的设置,ffmpeg检视输出的格式,来核查用哪种流的类型,例如video,audio,subtitles.
    对于可接受的类型,ffmpeg会从所有输入当中选择一个可用的流.基于一下规则:
    1> 对于video ,选择高分辨率的流
    2> 对于audio, 选择声道最多的流
    3> 对于subtitles(字幕),选择第一个发现的字幕流.输出格式的默认字幕编码器可以是基于文本的,也可是基于图像的,只有和字幕流
    类型一致的,才可以被选择.
    少数情况下同一种类型的流被选择机会相等,就选择索引值比较小的.
    对于data这种数据流不能自动选择,只能使用-map人为控制.
    
    人为控制选择.当-map选项使用的时候,只有用户配置的流才可能包含在输出文件中.复杂的过滤可能是一个意外.对于带标签的复杂的过
    滤输出流,必须使用人为控制,并且要一次精确控制.对于没有标签的复杂过滤输出流,会被添加到第一个输出文件.如果流的类型和输出的
    格式不支持可能会导致致命的错误.
    
####　stream handling(流的处理)
    流的处理是独立于流的选择的,但是一下关于字幕的描述是个例外.流的处理通过设置-coodec选项设置特定输出文件中的流.尤其是,
    -codec选项在流选择之后被ffmpeg使用,并且不影响后面.在没有-codec设置的情况下,ffmpeg会选择默认的注册在输出文件中muxer
    的编码器.
    
    字幕的异常.对于一个输出文件指定了字幕编码器,任何类型,文本或者图像的首个发现的字幕流会被包含.如果指定的字幕编码器能不能转换
    选择的流或者转换的流是否为输出格式所支持,ffmepg,不会验证.按照这个表现,当用户人为设置编码器,流选择过程中是不会检查编码的流
    是否可以并入到输出文件的,如果不可以,ffmpeg就会舍弃并且所有的输出文件都会失败.
    
#### 案例
